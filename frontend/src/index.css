:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Light theme (default) */
  --color-bg-base: #ffffff;
  --color-bg-elevated: #fafafa;
  --color-bg-muted: #f5f5f5;
  --color-bg-subtle: #e8e8e8;

  --color-text-primary: #333333;
  --color-text-secondary: #666666;
  --color-text-muted: #999999;

  --color-border-default: #e0e0e0;
  --color-border-subtle: #e8e8e8;
  --color-border-strong: #ddd;

  --color-sidebar-bg: #f5f5f5;
  --color-sidebar-hover: #e8e8e8;
  --color-sidebar-selected: #d3e3f3;

  --color-modal-bg: #ffffff;
  --color-modal-overlay: rgba(0, 0, 0, 0.5);

  --color-input-bg: #ffffff;
  --color-input-border: #ddd;
  --color-input-focus-border: #2196f3;

  --color-accent: #2196f3;
  --color-accent-hover: #1976d2;
  --color-accent-text: #1a1a2e;
  --color-accent-subtle-bg: rgba(33, 150, 243, 0.1);

  --color-success: #4caf50;
  --color-success-hover: #43a047;
  --color-success-bg: rgba(76, 175, 80, 0.08);
  --color-success-border: rgba(76, 175, 80, 0.2);

  --color-warning: #e65100;
  --color-warning-bg: rgba(230, 81, 0, 0.08);
  --color-warning-border: rgba(230, 81, 0, 0.2);
  --color-warning-text: #bf360c;

  --color-danger: #d32f2f;
  --color-danger-hover: #b71c1c;
  --color-danger-bg: rgba(211, 47, 47, 0.08);
  --color-danger-border: rgba(211, 47, 47, 0.2);
  --color-danger-text: #e53935;

  --color-banner-bg: #d3e3f3;
  --color-banner-text: #1a3a5c;
  --color-banner-border: #b0cde6;
  --color-banner-link: #1565c0;
  --color-banner-link-hover: #0d47a1;

  color: var(--color-text-primary);
  background-color: var(--color-bg-base);
}

[data-theme="dark"] {
  --color-bg-base: #2f2f2f;
  --color-bg-elevated: #373737;
  --color-bg-muted: #373737;
  --color-bg-subtle: #424242;

  --color-text-primary: #e3e3e3;
  --color-text-secondary: #b8b8b8;
  --color-text-muted: #888888;

  --color-border-default: #4a4a4a;
  --color-border-subtle: #424242;
  --color-border-strong: #525252;

  --color-sidebar-bg: #373737;
  --color-sidebar-hover: #424242;
  --color-sidebar-selected: #4a4a4a;

  --color-modal-bg: #373737;
  --color-modal-overlay: rgba(0, 0, 0, 0.7);

  --color-input-bg: #2f2f2f;
  --color-input-border: #4a4a4a;
  --color-input-focus-border: #7aa2f7;

  --color-accent: #7aa2f7;
  --color-accent-hover: #5d8ae6;
  --color-accent-text: #1a1a2e;
  --color-accent-subtle-bg: rgba(122, 162, 247, 0.1);

  --color-success: #4caf50;
  --color-success-hover: #43a047;
  --color-success-bg: rgba(76, 175, 80, 0.12);
  --color-success-border: rgba(76, 175, 80, 0.3);

  --color-warning: #eab308;
  --color-warning-bg: rgba(234, 179, 8, 0.1);
  --color-warning-border: rgba(234, 179, 8, 0.3);
  --color-warning-text: #fbbf24;

  --color-danger: #dc2626;
  --color-danger-hover: #b91c1c;
  --color-danger-bg: rgba(220, 38, 38, 0.12);
  --color-danger-border: rgba(220, 38, 38, 0.3);
  --color-danger-text: #f87171;

  --color-banner-bg: #2a4a6b;
  --color-banner-text: #c8ddf0;
  --color-banner-border: #3a5a7b;
  --color-banner-link: #7cb3f0;
  --color-banner-link-hover: #a0cbf5;
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
}

* {
  box-sizing: border-box;
}

.app-wrapper {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

.app-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Shared search bar styles */
.search-bar {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 20px;
  padding: 10px 14px;
  background: var(--color-bg-muted);
  border: 2px solid var(--color-border-default);
  border-radius: 8px;
  transition: border-color 0.2s;
}

.search-bar:focus-within {
  border-color: #1976d2;
}

.search-icon {
  color: var(--color-text-muted);
  font-size: 16px;
}

.search-input {
  flex: 1;
  border: none;
  background: transparent;
  font-size: 15px;
  color: var(--color-text-primary);
  outline: none;
}

.search-input::placeholder {
  color: var(--color-text-muted);
}

.search-clear {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  padding: 0;
  background: var(--color-bg-subtle);
  border: none;
  border-radius: 50%;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: background 0.2s;
}

.search-clear:hover {
  background: var(--color-border-default);
}

/* Frosted Glass Overlay for Locked Chapters */
.chapter-section-locked {
  position: relative;
}

.chapter-content-locked {
  position: relative;
}

.frosted-glass-overlay {
  position: absolute;
  inset: 0;
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  background: rgba(255, 255, 255, 0.3);
  border-radius: 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  z-index: 1;
  transition: background 0.2s;
}

.frosted-glass-overlay:hover {
  background: rgba(255, 255, 255, 0.4);
}

[data-theme="dark"] .frosted-glass-overlay {
  background: rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .frosted-glass-overlay:hover {
  background: rgba(0, 0, 0, 0.4);
}

.frosted-glass-overlay i {
  font-size: 24px;
  color: var(--color-text-muted);
}

.frosted-glass-overlay span {
  font-size: 14px;
  font-weight: 500;
  color: var(--color-text-secondary);
}
